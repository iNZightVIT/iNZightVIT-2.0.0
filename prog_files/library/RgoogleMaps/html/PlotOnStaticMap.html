<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: overlays plot on background image of map tile</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for PlotOnStaticMap {RgoogleMaps}"><tr><td>PlotOnStaticMap {RgoogleMaps}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>overlays plot on background image of map tile</h2>

<h3>Description</h3>

<p>This function is the workhorse of the package RgoogleMaps. It overlays plot on background image of map tile</p>


<h3>Usage</h3>

<pre>PlotOnStaticMap(MyMap, lat, lon, destfile, zoom = NULL, size, 
    GRAYSCALE = FALSE, add = FALSE, FUN = points, mar = c(0, 
        0, 0, 0), NEWMAP = TRUE, TrueProj = TRUE, axes = FALSE, 
    atX = NULL, atY = NULL, verbose = 0, ...)</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>MyMap</code></td>
<td>
<p>optional map object</p>
</td></tr>
<tr valign="top"><td><code>lat</code></td>
<td>
<p>latitude values to be overlaid</p>
</td></tr>
<tr valign="top"><td><code>lon</code></td>
<td>
<p>longitude values to be overlaid</p>
</td></tr>
<tr valign="top"><td><code>destfile</code></td>
<td>
<p>File to load the map image from or save to, depending on whether <code>MyMap</code> was passed.</p>
</td></tr>
<tr valign="top"><td><code>zoom</code></td>
<td>
<p>Google maps zoom level. optional if <code>MyMap</code> is passed, required if not.</p>
</td></tr>
<tr valign="top"><td><code>size</code></td>
<td>
<p>desired size of the map tile image. defaults to maximum size returned by the Gogle server, which is 640x640 pixels</p>
</td></tr>
<tr valign="top"><td><code>GRAYSCALE</code></td>
<td>
<p>Boolean toggle; if TRUE the colored map tile is rendered into a black &amp; white image, see <a href="RGB2GRAY.html">RGB2GRAY</a></p>
</td></tr>
<tr valign="top"><td><code>add</code></td>
<td>
<p>start a new plot or add to an existing</p>
</td></tr>
<tr valign="top"><td><code>FUN</code></td>
<td>
<p>plotting function to use for overlay; typical choices would be <a href="../../graphics/html/points.html">points</a> and <a href="../../graphics/html/lines.html">lines</a></p>
</td></tr>
<tr valign="top"><td><code>mar</code></td>
<td>
<p>outer margin in plot; if you want to see axes, change the default</p>
</td></tr>
<tr valign="top"><td><code>NEWMAP</code></td>
<td>
<p>load map from file or get it &quot;new&quot; from the static map server</p>
</td></tr>
<tr valign="top"><td><code>TrueProj</code></td>
<td>
<p>set to FALSE if you are willing to accept some degree of inaccuracy in the mapping. In that case, the coordinates of the image are in lat/lon and the user can simply overly points/lines/axis without worrying about projections</p>
</td></tr>
<tr valign="top"><td><code>axes</code></td>
<td>
<p>overlay axes ?</p>
</td></tr>
<tr valign="top"><td><code>atX</code></td>
<td>
<p>numeric; position of ticks on x-axis; if missing, <a href="../../graphics/html/axTicks.html">axTicks</a> is called for nice values; see <a href="../../graphics/html/axis.html">axis</a></p>
</td></tr>
<tr valign="top"><td><code>atY</code></td>
<td>
<p>numeric; position of ticks on y-axis; if missing, <a href="../../graphics/html/axTicks.html">axTicks</a> is called for nice values; see <a href="../../graphics/html/axis.html">axis</a></p>
</td></tr>
<tr valign="top"><td><code>verbose</code></td>
<td>
<p>level of verbosity</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>further arguments to be passed to <code>FUN</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>the map object is returned via <code>invisible(MyMap)</code></p>


<h3>Author(s)</h3>

<p>Markus Loecher</p>


<h3>Examples</h3>

<pre>
#The first step naturally will be to download a static map from the Google server. A simple example:

  lat = c(40.702147,40.718217,40.711614);
  lon = c(-74.012318,-74.015794,-73.998284);
  center = c(mean(lat), mean(lon));
  zoom &lt;- min(MaxZoom(range(lat), range(lon)));
  #this overhead is taken care of implicitly by GetMap.bbox();              
  MyMap &lt;- GetMap(center=center, zoom=zoom,markers = paste0("&amp;markers=color:blue|label:S|",
           "40.702147,-74.015794&amp;markers=color:green|label:G|40.711614,-74.012318&amp;markers=",
           "color:red|color:red|label:C|40.718217,-73.998284"), destfile = "MyTile1.png");
                 
   tmp &lt;- PlotOnStaticMap(MyMap, lat = c(40.702147,40.711614,40.718217), 
                          lon = c(-74.015794,-74.012318,-73.998284), 
                          destfile = "MyTile1.png", cex=1.5,pch=20,
                          col=c('red', 'blue', 'green'), add=FALSE);
   #and add lines:
   PlotOnStaticMap(MyMap, lat = c(40.702147,40.711614,40.718217), 
                   lon = c(-74.015794,-74.012318,-73.998284), 
                   lwd=1.5,col=c('red', 'blue', 'green'), FUN = lines, add=TRUE)
   	

</pre>

<hr /><div style="text-align: center;">[Package <em>RgoogleMaps</em> version 1.2.0.7 <a href="00Index.html">Index</a>]</div>
</body></html>
