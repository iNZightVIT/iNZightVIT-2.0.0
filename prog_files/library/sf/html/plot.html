<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Plot sf object</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for plot {sf}"><tr><td>plot {sf}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Plot sf object</h2>

<h3>Description</h3>

<p>Plot sf object
</p>
<p>blue-pink-yellow color scale
</p>


<h3>Usage</h3>

<pre>
## S3 method for class 'sf'
plot(x, y, ..., col = NULL, main, pal = NULL, nbreaks = 10,
  breaks = "pretty", max.plot = if (is.null(n &lt;-
  options("sf_max.plot")[[1]])) 9 else n, key.pos = get_key_pos(x, ...),
  key.size = lcm(1.8), reset = TRUE)

get_key_pos(x, ...)

## S3 method for class 'sfc_POINT'
plot(x, y, ..., pch = 1, cex = 1, col = 1, bg = 0,
  lwd = 1, lty = 1, type = "p", add = FALSE)

## S3 method for class 'sfc_MULTIPOINT'
plot(x, y, ..., pch = 1, cex = 1, col = 1,
  bg = 0, lwd = 1, lty = 1, type = "p", add = FALSE)

## S3 method for class 'sfc_LINESTRING'
plot(x, y, ..., lty = 1, lwd = 1, col = 1,
  pch = 1, type = "l", add = FALSE)

## S3 method for class 'sfc_CIRCULARSTRING'
plot(x, y, ...)

## S3 method for class 'sfc_MULTILINESTRING'
plot(x, y, ..., lty = 1, lwd = 1, col = 1,
  pch = 1, type = "l", add = FALSE)

## S3 method for class 'sfc_POLYGON'
plot(x, y, ..., lty = 1, lwd = 1, col = NA,
  cex = 1, pch = NA, border = 1, add = FALSE, rule = "evenodd")

## S3 method for class 'sfc_MULTIPOLYGON'
plot(x, y, ..., lty = 1, lwd = 1, col = NA,
  border = 1, add = FALSE, rule = "evenodd")

## S3 method for class 'sfc_GEOMETRYCOLLECTION'
plot(x, y, ..., pch = 1, cex = 1, bg = 0,
  lty = 1, lwd = 1, col = 1, border = 1, add = FALSE)

## S3 method for class 'sfc_GEOMETRY'
plot(x, y, ..., pch = 1, cex = 1, bg = 0,
  lty = 1, lwd = 1, col = 1, border = 1, add = FALSE)

## S3 method for class 'sfg'
plot(x, ...)

plot_sf(x, xlim = NULL, ylim = NULL, asp = NA, axes = FALSE,
  bgc = par("bg"), ..., xaxs, yaxs, lab, setParUsrBB = FALSE,
  bgMap = NULL, expandBB = c(0, 0, 0, 0), graticule = NA_crs_,
  col_graticule = "grey")

sf.colors(n = 10, cutoff.tails = c(0.35, 0.2), alpha = 1,
  categorical = FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>object of class sf</p>
</td></tr>
<tr valign="top"><td><code>y</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>further specifications, see <a href="plot.html">plot_sf</a> and <a href="plot.html">plot</a></p>
</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
<p>color</p>
</td></tr>
<tr valign="top"><td><code>main</code></td>
<td>
<p>title for plot (<code>NULL</code> to remove)</p>
</td></tr>
<tr valign="top"><td><code>pal</code></td>
<td>
<p>palette function, similar to <a href="../../grDevices/html/rainbow.html">rainbow</a>; if omitted, <a href="plot.html">sf.colors</a> is used</p>
</td></tr>
<tr valign="top"><td><code>nbreaks</code></td>
<td>
<p>number of colors breaks (ignored for <code>factor</code> or <code>character</code> variables)</p>
</td></tr>
<tr valign="top"><td><code>breaks</code></td>
<td>
<p>either a numeric vector with the actual breaks, or a name of a method accepted by the <code>style</code> argument of <a href="../../classInt/html/classIntervals.html">classIntervals</a></p>
</td></tr>
<tr valign="top"><td><code>max.plot</code></td>
<td>
<p>integer; lower boundary to maximum number of attributes to plot; the default value (9) can be overriden by setting the global option <code>sf_max.plot</code>, e.g. <code>options(sf_max.plot=2)</code></p>
</td></tr>
<tr valign="top"><td><code>key.pos</code></td>
<td>
<p>integer; side to plot a color key: 1 bottom, 2 left, 3 top, 4 right; set to <code>NULL</code> to omit key. Ignored if multiple columns are plotted in a single function call. Default depends on plot size, map aspect, and, if set, parameter <code>asp</code>.</p>
</td></tr>
<tr valign="top"><td><code>key.size</code></td>
<td>
<p>amount of space reserved for the key (labels)</p>
</td></tr>
<tr valign="top"><td><code>reset</code></td>
<td>
<p>logical; if <code>FALSE</code>, keep the plot in a mode that allows adding further map elements; if <code>TRUE</code> restore original mode after plotting; see details.</p>
</td></tr>
<tr valign="top"><td><code>pch</code></td>
<td>
<p>plotting symbol</p>
</td></tr>
<tr valign="top"><td><code>cex</code></td>
<td>
<p>symbol size</p>
</td></tr>
<tr valign="top"><td><code>bg</code></td>
<td>
<p>symbol background color</p>
</td></tr>
<tr valign="top"><td><code>lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr valign="top"><td><code>lty</code></td>
<td>
<p>line type</p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
<p>plot type: 'p' for points, 'l' for lines, 'b' for both</p>
</td></tr>
<tr valign="top"><td><code>add</code></td>
<td>
<p>logical; add to current plot?</p>
</td></tr>
<tr valign="top"><td><code>border</code></td>
<td>
<p>color of polygon border</p>
</td></tr>
<tr valign="top"><td><code>rule</code></td>
<td>
<p>see <a href="../../graphics/html/polypath.html">polypath</a>; for <code>winding</code>, exterior ring direction should be opposite that of the holes; with <code>evenodd</code>, plotting is robust against misspecified ring directions</p>
</td></tr>
<tr valign="top"><td><code>xlim</code></td>
<td>
<p>see <a href="../../graphics/html/plot.window.html">plot.window</a></p>
</td></tr>
<tr valign="top"><td><code>ylim</code></td>
<td>
<p>see <a href="../../graphics/html/plot.window.html">plot.window</a></p>
</td></tr>
<tr valign="top"><td><code>asp</code></td>
<td>
<p>see below, and see <a href="../../graphics/html/par.html">par</a></p>
</td></tr>
<tr valign="top"><td><code>axes</code></td>
<td>
<p>logical; should axes be plotted? (default FALSE)</p>
</td></tr>
<tr valign="top"><td><code>bgc</code></td>
<td>
<p>background color</p>
</td></tr>
<tr valign="top"><td><code>xaxs</code></td>
<td>
<p>see <a href="../../graphics/html/par.html">par</a></p>
</td></tr>
<tr valign="top"><td><code>yaxs</code></td>
<td>
<p>see <a href="../../graphics/html/par.html">par</a></p>
</td></tr>
<tr valign="top"><td><code>lab</code></td>
<td>
<p>see <a href="../../graphics/html/par.html">par</a></p>
</td></tr>
<tr valign="top"><td><code>setParUsrBB</code></td>
<td>
<p>default FALSE; set the <code>par</code> &ldquo;usr&rdquo; bounding box; see below</p>
</td></tr>
<tr valign="top"><td><code>bgMap</code></td>
<td>
<p>object of class <code>ggmap</code>, or returned by function <code>RgoogleMaps::GetMap</code></p>
</td></tr>
<tr valign="top"><td><code>expandBB</code></td>
<td>
<p>numeric; fractional values to expand the bounding box with,
in each direction (bottom, left, top, right)</p>
</td></tr>
<tr valign="top"><td><code>graticule</code></td>
<td>
<p>logical, or object of class <code>crs</code> (e.g., <code>st_crs(4326)</code> for a WGS84 graticule), or object created by <a href="st_graticule.html">st_graticule</a>; <code>TRUE</code> will give the WGS84 graticule
or object returned by <a href="st_graticule.html">st_graticule</a></p>
</td></tr>
<tr valign="top"><td><code>col_graticule</code></td>
<td>
<p>color to used for the graticule (if present)</p>
</td></tr>
<tr valign="top"><td><code>n</code></td>
<td>
<p>integer; number of colors</p>
</td></tr>
<tr valign="top"><td><code>cutoff.tails</code></td>
<td>
<p>numeric, in [0,0.5] start and end values</p>
</td></tr>
<tr valign="top"><td><code>alpha</code></td>
<td>
<p>numeric, in [0,1], transparency</p>
</td></tr>
<tr valign="top"><td><code>categorical</code></td>
<td>
<p>logical; do we want colors for a categorical variable? (see details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>plot.sf</code> maximally plots <code>max.plot</code> maps with colors following from attribute columns,
one map per attribute. It uses <code>sf.colors</code> for default colors. For more control over individual maps,
set parameter <code>mfrow</code> with <code>par</code> prior to plotting,  and plot single maps one by one.
</p>
<p><code>plot.sfc</code> plots the geometry, additional parameters can be passed on
to control color, lines or symbols.
</p>
<p>When setting <code>reset</code> to <code>FALSE</code>, the original device parameters are lost, and the device must be reset using <code>dev.off()</code> in order to reset it.
</p>
<p><code>plot_sf</code> sets up the plotting area, axes, graticule, or webmap background; it
is called by all <code>plot</code> methods before anything is drawn.
</p>
<p>The argument <code>setParUsrBB</code> may be used to pass the logical value <code>TRUE</code> to functions within <code>plot.Spatial</code>. When set to <code>TRUE</code>, par(&ldquo;usr&rdquo;) will be overwritten with <code>c(xlim, ylim)</code>, which defaults to the bounding box of the spatial object. This is only needed in the particular context of graphic output to a specified device with given width and height, to be matched to the spatial object, when using par(&ldquo;xaxs&rdquo;) and par(&ldquo;yaxs&rdquo;) in addition to <code>par(mar=c(0,0,0,0))</code>.
</p>
<p>The default aspect for map plots is 1; if however data are not
projected (coordinates are long/lat), the aspect is by default set to
1/cos(My * pi)/180) with My the y coordinate of the middle of the map
(the mean of <code>ylim</code>, which defaults to the y range of bounding box). This
implies an <a href="https://en.wikipedia.org/wiki/Equirectangular_projection">Equirectangular projection</a>.
</p>
<p>non-categorical colors from <code>sf.colors</code> were taken from <a href="../../sp/html/bpy.colors.html">bpy.colors</a>, with modified <code>cutoff.tails</code> defaults
If categorical is <code>TRUE</code>, default colors are from <a href="http://www.colorbrewer2.org/">http://www.colorbrewer2.org/</a> (if n &lt; 9, Set2, else Set3).
</p>


<h3>Examples</h3>

<pre>
# plot linestrings:
l1 = st_linestring(matrix(runif(6)-0.5,,2))
l2 = st_linestring(matrix(runif(6)-0.5,,2))
l3 = st_linestring(matrix(runif(6)-0.5,,2))
s = st_sf(a=2:4, b=st_sfc(l1,l2,l3))
plot(s, col = s$a, axes = FALSE)
plot(s, col = s$a)
ll = "+init=epsg:4326 +proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"
st_crs(s) = ll
plot(s, col = s$a, axes = TRUE)
plot(s, col = s$a, lty = s$a, lwd = s$a, pch = s$a, type = 'b')
l4 = st_linestring(matrix(runif(6),,2))
plot(st_sf(a=1,b=st_sfc(l4)), add = TRUE)
# plot multilinestrings:
ml1 = st_multilinestring(list(l1, l2))
ml2 = st_multilinestring(list(l3, l4))
ml = st_sf(a = 2:3, b = st_sfc(ml1, ml2))
plot(ml, col = ml$a, lty = ml$a, lwd = ml$a, pch = ml$a, type = 'b')
# plot points:
p1 = st_point(c(1,2))
p2 = st_point(c(3,3))
p3 = st_point(c(3,0))
p = st_sf(a=2:4, b=st_sfc(p1,p2,p3))
plot(p, col = s$a, axes = TRUE)
plot(p, col = s$a)
plot(p, col = p$a, pch = p$a, cex = p$a, bg = s$a, lwd = 2, lty = 2, type = 'b')
p4 = st_point(c(2,2))
plot(st_sf(a=1, st_sfc(p4)), add = TRUE)
# multipoints:
mp1 = st_multipoint(matrix(1:4,2))
mp2 = st_multipoint(matrix(5:8,2))
mp = st_sf(a = 2:3, b = st_sfc(mp1, mp2))
plot(mp)
plot(mp, col = mp$a, pch = mp$a, cex = mp$a, bg = mp$a, lwd = mp$a, lty = mp$a, type = 'b')
# polygon:
outer = matrix(c(0,0,10,0,10,10,0,10,0,0),ncol=2, byrow=TRUE)
hole1 = matrix(c(1,1,1,2,2,2,2,1,1,1),ncol=2, byrow=TRUE)
hole2 = matrix(c(5,5,5,6,6,6,6,5,5,5),ncol=2, byrow=TRUE)
pl1 = st_polygon(list(outer, hole1, hole2))
pl2 = st_polygon(list(outer+10, hole1+10, hole2+10))
po = st_sf(a = 2:3, st_sfc(pl1,pl2))
plot(po, col = po$a, border = rev(po$a), lwd=3)
# multipolygon
r10 = matrix(rep(c(0,10),each=5),5)
pl1 = list(outer, hole1, hole2)
pl2 = list(outer+10, hole1+10, hole2+10)
pl3 = list(outer+r10, hole1+r10, hole2+r10)
mpo1 = st_multipolygon(list(pl1,pl2))
mpo2 = st_multipolygon(list(pl3))
mpo = st_sf(a=2:3, b=st_sfc(mpo1,mpo2))
plot(mpo, col = mpo$a, border = rev(mpo$a), lwd = 2)
# geometrycollection:
gc1 = st_geometrycollection(list(mpo1, st_point(c(21,21)), l1 * 2 + 21))
gc2 = st_geometrycollection(list(mpo2, l2 - 2, l3 - 2, st_point(c(-1,-1))))
gc = st_sf(a=2:3, b = st_sfc(gc1,gc2))
plot(gc, cex = gc$a, col = gc$a, border = rev(gc$a) + 2, lwd = 2)
sf.colors(10)
</pre>

<hr /><div style="text-align: center;">[Package <em>sf</em> version 0.6-2 <a href="00Index.html">Index</a>]</div>
</body></html>
