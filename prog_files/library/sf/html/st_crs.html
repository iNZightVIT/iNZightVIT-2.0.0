<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Retrieve coordinate reference system from object</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for st_crs {sf}"><tr><td>st_crs {sf}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Retrieve coordinate reference system from object</h2>

<h3>Description</h3>

<p>Retrieve coordinate reference system from sf or sfc object
</p>
<p>Set or replace retrieve coordinate reference system from object
</p>


<h3>Usage</h3>

<pre>
st_crs(x, ...)

## S3 method for class 'sf'
st_crs(x, ...)

## S3 method for class 'numeric'
st_crs(x, proj4text = "", valid = TRUE, ...)

## S3 method for class 'character'
st_crs(x, ..., wkt)

## S3 method for class 'sfc'
st_crs(x, ..., parameters = FALSE)

## S3 method for class 'bbox'
st_crs(x, ...)

## S3 method for class 'crs'
st_crs(x, ...)

st_crs(x) &lt;- value

## S3 replacement method for class 'sf'
st_crs(x) &lt;- value

## S3 replacement method for class 'sfc'
st_crs(x) &lt;- value

st_set_crs(x, value)

NA_crs_

## S3 method for class 'crs'
is.na(x)

## S3 method for class 'crs'
x$name
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>numeric, character, or object of class <a href="sf.html">sf</a> or <a href="sfc.html">sfc</a></p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr valign="top"><td><code>proj4text</code></td>
<td>
<p>character. Must be used in conjunction with <code>valid = FALSE</code>.</p>
</td></tr>
<tr valign="top"><td><code>valid</code></td>
<td>
<p>default TRUE. This allows to create crs without checking against
the local proj4 database. It can be used to synchronize crs with a remote
database, but avoid it as much as possible.</p>
</td></tr>
<tr valign="top"><td><code>wkt</code></td>
<td>
<p>character well-known-text representation of the crs</p>
</td></tr>
<tr valign="top"><td><code>parameters</code></td>
<td>
<p>logical; <code>FALSE</code> by default; if <code>TRUE</code> return a list of coordinate reference system parameters, with named elements <code>SemiMajor</code>, <code>InvFlattening</code>, <code>units_gdal</code>, <code>IsVertical</code>, <code>WktPretty</code>, and <code>Wkt</code></p>
</td></tr>
<tr valign="top"><td><code>value</code></td>
<td>
<p>one of (i) character: a valid proj4string (ii) integer, a valid EPSG value (numeric), or (iii) a list containing named elements <code>proj4string</code> (character) and/or <code>epsg</code> (integer) with (i) and (ii).</p>
</td></tr>
<tr valign="top"><td><code>name</code></td>
<td>
<p>element name; <code>epsg</code> or <code>proj4string</code>, or one of <code>proj4strings</code> named components without the <code>+</code>; see examples</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>crs</code> of length 2.</p>


<h3>Details</h3>

<p>The *crs functions create, get, set or replace the <code>crs</code> attribute of a simple feature geometry
list-column. This attribute is of class <code>crs</code>, and is a list consisting of <code>epsg</code> (integer EPSG
code) and <code>proj4string</code> (character).
Two objects of class <code>crs</code> are semantically identical when: (1) they are completely identical, or
(2) they have identical proj4string but one of them has a missing EPSG ID. As a consequence, equivalent
but different proj4strings, e.g. <code> "+proj=longlat +datum=WGS84" </code> and <code> "+datum=WGS84 +proj=longlat" </code>,
are considered different.
The operators <code>==</code> and <code>!=</code> are overloaded for <code>crs</code> objects to establish semantical identity.
</p>
<p>In case a coordinate reference system is replaced, no transformation takes
place and a warning is raised to stress this. EPSG values are either read from proj4strings
that contain <code>+init=epsg:...</code> or set to 4326 in case the proj4string contains +proj=longlat
and +datum=WGS84, literally.
</p>
<p>If both <code>epsg</code> and <code>proj4string</code> are provided, they are assumed to be consistent. In processing them, the EPSG code, if not missing valued, is used and the proj4string is derived from it by a call to GDAL (which in turn will call PROJ.4). Warnings are raised when <code>epsg</code> is not consistent with a proj4string that is already present.
</p>
<p><code>NA_crs_</code> is the <code>crs</code> object with missing values for <code>epsg</code> and <code>proj4string</code>.
</p>


<h3>Value</h3>

<p>If <code>x</code> is numeric, return <code>crs</code> object for SRID <code>x</code>; if <code>x</code> is character, return <code>crs</code> object for proj4string <code>x</code>; if <code>wkt</code> is given, return <code>crs</code> object for well-known-text representation <code>wkt</code>; if <code>x</code> is of class <code>sf</code> or <code>sfc</code>, return its <code>crs</code> object.
</p>
<p>Object of class <code>crs</code>, which is a list with elements <code>epsg</code> (length-1 integer) and
<code>proj4string</code> (length-1 character).
</p>


<h3>Examples</h3>

<pre>
sfc = st_sfc(st_point(c(0,0)), st_point(c(1,1)))
sf = st_sf(a = 1:2, geom = sfc)
st_crs(sf) = 4326
st_geometry(sf)
sfc = st_sfc(st_point(c(0,0)), st_point(c(1,1)))
st_crs(sfc) = 4326
sfc
sfc = st_sfc(st_point(c(0,0)), st_point(c(1,1)))
library(dplyr)
x = sfc %&gt;% st_set_crs(4326) %&gt;% st_transform(3857)
x
st_crs("+init=epsg:3857")$epsg
st_crs("+init=epsg:3857")$proj4string
st_crs("+init=epsg:3857 +units=km")$b     # numeric
st_crs("+init=epsg:3857 +units=km")$units # character
</pre>

<hr /><div style="text-align: center;">[Package <em>sf</em> version 0.6-2 <a href="00Index.html">Index</a>]</div>
</body></html>
